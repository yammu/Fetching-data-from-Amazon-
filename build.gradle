apply plugin: 'java'
apply plugin: 'jacoco'

sourceCompatibility = 1.8

dependencies {
  compile 'org.apache.commons:commons-lang3:3.4' 
  compile 'org.jsoup:jsoup:1.8.2'
  
  testCompile group: 'junit', name: 'junit', version: "4.+"
  testCompile group: 'org.mockito', name: 'mockito-core', version: "1.+"
}

allprojects {
  tasks.withType(JavaCompile) {
    options.compilerArgs << '-Xlint:deprecation' << '-Xlint:unchecked'
  }
}

repositories {
  mavenCentral()
}

task(runconsoleoutput, dependsOn: 'classes', type: JavaExec) {
  
  main = 'assign2.consoleoutput.GetBookInfo'
  classpath = sourceSets.main.runtimeClasspath
  args 'isbn/ISBNList'
}




jacocoTestReport {
    doFirst{
        classDirectories = fileTree(
					dir: './build/classes/main/assign2',
					excludes: ['**/consoleoutput/GetBookInfo.class']
				)
    }

File configFile = file('src/main/java/assign2/consoleoutput/ISBNList')
   
   reports {
        xml.enabled false
        csv.enabled false
        html.destination "build/reports/coverageHtml"
    }
}


defaultTasks 'clean', 'test', 'jacocoTestReport', 'runconsoleoutput'
